webpackJsonp([1],{120:function(t,e){function a(t){throw new Error("Cannot find module '"+t+"'.")}a.keys=function(){return[]},a.resolve=a,t.exports=a,a.id=120},121:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(81),s=a(49),c=a(62),o=a(83),d=a(124),p=a(63),l=a(214);a.d(e,"a",(function(){return u}));var u=(function(){function t(t,e,a,r,n,i){this.appState=t,this.cardToolsService=e,this.crapetteService=a,this.settingsService=r,this.together=n,this.route=i}return t.prototype.ngOnInit=function(){var t=this.route.snapshot.params;t.seed&&t.player&&this.together.init(t);var e=this.crapetteService.initPlayers();this.stacks=this.crapetteService.initStacks(e),this.crapetteService.dealStacks(this.stacks,e),this.appState.set("stacks",this.stacks),this.appState.set("players",e);var a=this.stacks.player0Crapette.top,r=this.stacks.player1Crapette.top,n=r.value>a.value?1:0;this.appState.set("currentPlayer",e[n])},t.prototype.pick=function(t){this.crapetteService.pick(t.stack)},t.prototype.push=function(t){var e=this.appState.get("currentPlayer"),a=this.crapetteService.countAceOpportunity(e),r=t.stack,n=this.crapetteService.pickedStack;this.crapetteService.push(r);var i=this.crapetteService.countAceOpportunity(e);this.checkCrapette(a,i),this.checkVictory(e),this.checkEndTurn(r,n)},t.prototype.crapette=function(t){this.appState.get("players")[(t+1)%2]===this.appState.get("currentPlayer")&&this.crapetteService.crapetteAvailable&&(console.log("CRAPETTE"),this.crapetteService.endTurn())},t.prototype.changePlayer=function(){this.crapetteService.endTurn()},t.prototype.checkCrapette=function(t,e){if(t.length>0&&e.length===t.length){for(var a=!0,r=0;r<t.length;r++){if(t[r]!==e[r]){a=!1;break}}this.crapetteService.crapetteAvailable=a}else this.crapetteService.crapetteAvailable=!1},t.prototype.checkVictory=function(t){var e=this.stacks["player"+t.id+"Crapette"],a=this.stacks["player"+t.id+"Main"],r=this.stacks["player"+t.id+"Discard"];e.isEmpty()&&a.isEmpty()&&r.isEmpty()&&console.log("Player",t.id,"wins")},t.prototype.checkEndTurn=function(t,e){t.type===c.a.DISCARD&&t!==e&&t.owner&&t.owner.id===this.appState.get("currentPlayer").id&&this.crapetteService.endTurn()},t})();u=r.a([a.i(n._12)({selector:"game",encapsulation:n.n.None,template:a(393),styles:[a(436)],providers:[o.a,d.a,p.a,l.a]}),r.b("design:paramtypes",[s.a,o.a,d.a,p.a,l.a,i.c])],u)},122:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(81),s=a(48);a.d(e,"a",(function(){return c}));var c=(function(){function t(t){this.router=t,this.showMulti=!1,this.baseUrl=s.c.baseUrl,this.enableOnline=s.c.enableOnline}return t.prototype.startLocal=function(){this.router.navigateByUrl("/local")},t.prototype.startOnline=function(){var t=Math.floor(1e5*Math.random());this.showMulti=!0,this.hash=t},t})();c=r.a([a.i(n._12)({selector:"hub",template:a(394),styles:[a(437)],encapsulation:n.n.None}),r.b("design:paramtypes",[i.b])],c)},123:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r=(function(){function t(t){this.cards=[],t&&(e=this.cards).push.apply(e,t);var e}return t.prototype.addCard=function(t){this.cards.push(t)},t.prototype.pop=function(){return this.cards.pop()},Object.defineProperty(t.prototype,"last",{get:function(){return this.cards[this.cards.length-1]},enumerable:!0,configurable:!0}),t})()},124:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(82),s=a(123),c=a(62),o=a(212),d=a(83),p=a(63),l=a(213),u=a(49),f=a(48);a.d(e,"a",(function(){return h}));var h=(function(){function t(t,e,a){this.cardToolsService=t,this.appState=e,this.settings=a,this.NUMBEROFSTREETS=4,this.CRAPETTEHIGH=13,this.crapetteAvailable=!1}return t.prototype.initPlayers=function(){return[this.initPlayer(0),this.initPlayer(1)]},t.prototype.initStacks=function(t){for(var e={player0Main:new c.b(t[0].deck,!1,l.a,l.b,t[0],c.a.MAIN,!1,c.c.NONE),player0Discard:new c.b(new s.a,!1,l.c,l.d,t[0],c.a.DISCARD,!0,c.c.NONE),player0Crapette:new c.b(new s.a,!0,l.e,l.b,t[0],c.a.CRAPETTE,!0,c.c.NONE),player1Main:new c.b(t[1].deck,!1,l.a,l.b,t[1],c.a.MAIN,!1,c.c.NONE),player1Discard:new c.b(new s.a,!1,l.c,l.d,t[1],c.a.DISCARD,!0,c.c.NONE),player1Crapette:new c.b(new s.a,!0,l.e,l.b,t[1],c.a.CRAPETTE,!0,c.c.NONE),aces:[],streets:[]},a=0,r=t;a<r.length;a++){r[a];for(var n in i.a)if(i.a.hasOwnProperty(n)){i.a[n];e.aces.push(new c.b(new s.a,!0,l.f,l.g,null,c.a.ACE,!0,c.c.NONE))}}for(var o=0;o<this.NUMBEROFSTREETS*t.length;o++)e.streets.push(new c.b(new s.a,!0,l.h,l.i,null,c.a.STREET,!0,o<this.NUMBEROFSTREETS?c.c.LEFT:c.c.RIGHT));return e},t.prototype.dealStacks=function(t,e){for(var a=0,r=e;a<r.length;a++){for(var n=r[a],i=t["player"+n.id+"Main"],s=t["player"+n.id+"Crapette"],c=0;c<this.CRAPETTEHIGH;c++){var o=i.deck.pop();s.deck.addCard(o)}s.top.visible=!0;for(var d=0;d<this.NUMBEROFSTREETS;d++){var o=i.deck.pop();o.visible=!0,t.streets[n.id*this.NUMBEROFSTREETS+d].deck.addCard(o)}}},t.prototype.pick=function(t){this.pickedCard=t.top,this.pickedCard.picked=!0,this.pickedCard.visible=!0,this.pickedStack=t},t.prototype.push=function(t){this.pickedStack.deck.pop(),this.pickedCard.picked=!1,t.deck.addCard(this.pickedCard),this.pickedCard.rotation=2*Math.random()*f.c.cardRotationAmplitude-f.c.cardRotationAmplitude,this.pickedCard=null,this.pickedStack=null},t.prototype.endTurn=function(){var t=this.appState.get("currentPlayer"),e=this.appState.get("stacks")["player"+t.id+"Crapette"],a=e.top;a&&(a.visible=!0);var r=this.appState.get("players")[(t.id+1)%2];if(this.appState.set("currentPlayer",r),this.pickedCard&&this.pickedStack&&this.pickedStack.type===c.a.MAIN){var n=this.appState.get("stacks")["player"+t.id+"Discard"];this.push(n)}this.pickedStack&&(this.pickedStack=null),this.resetPickedCard(),this.crapetteAvailable=!1},t.prototype.resetPickedCard=function(){this.pickedCard&&(this.pickedCard.picked=!1,this.pickedCard=null)},t.prototype.refillMain=function(t){if(!this.pickedCard){var e=this.appState.get("stacks"),a=e["player"+t.id+"Main"],r=e["player"+t.id+"Discard"];a.deck.cards=r.deck.cards.reverse(),r.deck.cards=[],a.deck.cards.forEach((function(t){return t.visible=!1}))}},t.prototype.countAceOpportunity=function(t){var e=[],a=this.appState.get("stacks");e.push(a["player"+t.id+"Main"]),e.push(a["player"+t.id+"Crapette"]),e.push(a["player"+t.id+"Discard"]),e.push.apply(e,a.streets);for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n],c=s.top;if(c&&c.visible&&s.popRule(s,c,this.appState,t))for(var o=0,d=a.aces;o<d.length;o++){var p=d[o];p.pushRule(p,c,this.appState,t,s)&&r.push(c)}}return r},Object.defineProperty(t.prototype,"rotate",{get:function(){return this.settings.rotateBoard&&0===this.appState.get("currentPlayer").id},enumerable:!0,configurable:!0}),t.prototype.initPlayer=function(t){var e=new o.a(t),a=this.cardToolsService.createSet(e);return e.deck.cards=a,this.cardToolsService.shuffleDeck(e.deck),e},t})();h=r.a([a.i(n.d)(),r.b("design:paramtypes",[d.a,u.a,p.a])],h)},184:function(t,e,a){"use strict";var r=a(207);a.d(e,"a",(function(){return r.a}))},206:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(49),s=a(84);a.d(e,"a",(function(){return c}));var c=(function(){function t(t,e){this.appState=t,this.translate=e}return t.prototype.ngOnInit=function(){console.log("Initial App State",this.appState.state),this.translate.setDefaultLang("en");var t="fr"===navigator.language?"fr":"en";this.translate.use(t)},t})();c=r.a([a.i(n._12)({selector:"app",encapsulation:n.n.None,template:a(391),styles:[a(434)]}),r.b("design:paramtypes",[i.a,s.c])],c)},207:function(t,e,a){"use strict";function r(t){return new S.a(t)}var n=a(18),i=a(44),s=a(205),c=a(61),o=a(1),d=a(119),p=(a.n(d),a(48)),l=a(206),u=a(49),f=a(374),h=(a.n(f),a(209)),g=a(211),k=a(210),v=a(121),b=a(122),y=a(208),m=a(221),x=a(376),w=a(84),S=a(219);a.d(e,"a",(function(){return E}));var C=[u.a],E=(function(){function t(t,e){this.appRef=t,this.appState=e}return t.prototype.hmrOnInit=function(t){if(t&&t.state){if(console.log("HMR store",JSON.stringify(t,null,2)),this.appState._state=t.state,"restoreInputValues"in t){var e=t.restoreInputValues;setTimeout(e)}this.appRef.tick(),delete t.state,delete t.restoreInputValues}},t.prototype.hmrOnDestroy=function(t){var e=this.appRef.components.map((function(t){return t.location.nativeElement})),r=this.appState._state;t.state=r,t.disposeOldHosts=a.i(d.createNewHosts)(e),t.restoreInputValues=a.i(d.createInputTransfer)(),a.i(d.removeNgStyles)()},t.prototype.hmrAfterDestroy=function(t){t.disposeOldHosts(),delete t.disposeOldHosts},t})();E=n.a([a.i(o.y)({bootstrap:[l.a],declarations:[l.a,h.a,g.a,k.a,v.a,b.a],imports:[i.b,s.a,c.a,m.a.forRoot(),x.a.forRoot(),w.a.forRoot({loader:{provide:w.b,useFactory:r,deps:[c.b]}}),y.a],providers:[p.b,C,y.b]}),n.b("design:paramtypes",[o.h,u.a])],E)},208:function(t,e,a){"use strict";var r=a(81),n=a(122),i=a(121);a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return o}));var s=[{path:"",component:n.a},{path:":player/:seed",component:i.a},{path:"local",component:i.a}],c=[],o=r.a.forRoot(s)},209:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(82),s=a(83);a.d(e,"a",(function(){return c}));var c=(function(){function t(t){this.cardToolsService=t}return t})();r.a([a.i(n.N)(),r.b("design:type",i.b)],c.prototype,"card",void 0),c=r.a([a.i(n._12)({selector:"card",template:a(392),styles:[a(435),a(440)],encapsulation:n.n.None}),r.b("design:paramtypes",[s.a])],c)},210:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(84),s=a(63);a.d(e,"a",(function(){return c}));var c=(function(){function t(t,e){this.settings=t,this.translate=e,this.state="settings"}return t.prototype.openMenu=function(){this.out=!0},t.prototype.closeMenu=function(){this.out=!1},t.prototype.clickButton=function(t){if(this.out&&t===this.state)return void this.closeMenu();this.state=t,this.openMenu()},t.prototype.changeLocale=function(t){this.translate.use(t)},t})();c=r.a([a.i(n._12)({selector:"menu",template:a(395),styles:[a(438)],encapsulation:n.n.None}),r.b("design:paramtypes",[s.a,i.c])],c)},211:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(62),s=a(124),c=a(49),o=a(63);a.d(e,"a",(function(){return d}));var d=(function(){function t(t,e,a){this.crapette=t,this.appState=e,this.settings=a,this.pick=new n.E,this.push=new n.E,this.stackTypes=i.a}return t.prototype.clickCard=function(t){var e=this.appState.get("currentPlayer");this.crapette.pickedCard&&(this.stack.pushRule(this.stack,this.crapette.pickedCard,this.appState,e,this.crapette.pickedStack)||this.stack.cancelable&&this.stack===this.crapette.pickedStack)?this.push.next(this):!this.crapette.pickedCard&&t?this.pickCard(t):t||this.stack.type!==i.a.MAIN||this.stack.owner!==e||this.crapette.refillMain(e)},t.prototype.computeShift=function(t,e,a){var r=3*(4-a);return e.spread&&(r=20*e.spread*a),r+"px"},t.prototype.handleDrop=function(t){if(t.dragData===this.crapette.pickedCard){var e=this.appState.get("currentPlayer");this.crapette.pickedCard&&(this.stack.pushRule(this.stack,this.crapette.pickedCard,this.appState,e,this.crapette.pickedStack)||this.stack.cancelable&&this.stack===this.crapette.pickedStack)&&this.push.next(this)}},t.prototype.handleDrag=function(t){this.pickCard(t)},t.prototype.pickCard=function(t){this.stack.popRule(this.stack,t,this.appState,this.appState.get("currentPlayer"),this.crapette.pickedStack)&&(this.crapette.resetPickedCard(),this.pick.next(this))},t})();r.a([a.i(n.N)(),r.b("design:type",i.b)],d.prototype,"stack",void 0),r.a([a.i(n._4)(),r.b("design:type",Object)],d.prototype,"pick",void 0),r.a([a.i(n._4)(),r.b("design:type",Object)],d.prototype,"push",void 0),d=r.a([a.i(n._12)({selector:"stack",template:a(396),styles:[a(439)],encapsulation:n.n.None}),r.b("design:paramtypes",[s.a,c.a,o.a])],d)},212:function(t,e,a){"use strict";var r=a(123);a.d(e,"a",(function(){return n}));var n=(function(){function t(t){this.id=t,this.deck=new r.a}return t})()},213:function(t,e,a){"use strict";var r=a(62);a.d(e,"i",(function(){return u})),a.d(e,"g",(function(){return f})),a.d(e,"b",(function(){return h})),a.d(e,"d",(function(){return g})),a.d(e,"a",(function(){return k})),a.d(e,"c",(function(){return v})),a.d(e,"e",(function(){return b})),a.d(e,"f",(function(){return y})),a.d(e,"h",(function(){return m}));var n=function(t,e){return e.type.color!==t.top.type.color},i=function(t,e){return e.type.name===t.top.type.name},s=function(t,e){return t.owner.id===e.id},c=function(t,e){return e===t.top},o=function(t,e){return 1===Math.abs(e.value-t.top.value)},d=function(t,e){return e.value-t.top.value==1},p=function(t,e){return e.value-t.top.value==-1},l=function(t){return 13!==t.top.value},u=function(t,e,a,r,n){return c(t,e)},f=function(t,e,a,r,n){return!1},h=function(t,e,a,r,n){return c(t,e)&&s(t,r)},g=function(t,e,a,r,n){return c(t,e)&&s(t,r)&&0===a.get("stacks")["player"+r.id+"Crapette"].deck.cards.length},k=function(t,e,a,r,n){return!1},v=function(t,e,a,i,c){return!(!s(t,i)||c.type!==r.a.MAIN)||!s(t,i)&&(0!==t.deck.cards.length&&(l(t)&&n(t,e)&&o(t,e)))},b=function(t,e,a,r,n){return 0!==t.deck.cards.length&&!s(t,r)&&l(t)&&i(t,e)&&o(t,e)},y=function(t,e,a,r,n){return 0===t.deck.cards.length?1===e.value:d(t,e)&&i(t,e)},m=function(t,e,a,r,i){return 0===t.deck.cards.length||n(t,e)&&p(t,e)}},214:function(t,e,a){"use strict";var r=a(18),n=a(1);a.d(e,"a",(function(){return i}));var i=(function(){function t(){}return t.prototype.init=function(t){console.log(t)},t})();i=r.a([a.i(n.d)()],i)},215:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var r={rotateBoard:!1,stackLength:!0,cardRotationAmplitude:5,baseUrl:"http://localhost:3000",enableOnline:!0}},216:function(t,e,a){"use strict";function r(){return a.i(n.a)().bootstrapModule(c.a).then(i.a).catch((function(t){return console.error(t)}))}Object.defineProperty(e,"__esModule",{value:!0});var n=a(183),i=a(48),s=a(119),c=(a.n(s),a(184));e.main=r,a.i(s.bootloader)(r)},33:function(t,e,a){t.exports=a.p+"fc5a8761d6d812ae21d9868412731b47.png"},367:function(t,e,a){e=t.exports=a(41)(),e.push([t.i,".row{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row}.player-row{max-width:1100px;margin:0 auto}.field{flex:2}.alert-field,.side-field,.streets-field{flex:1}.streets-field{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.streets-field .street{flex:1}.streets-left{margin-right:-16px}.streets-left .stack{text-align:right}.streets-left .stack *{text-align:left}.mid-row .stack{padding:5px 10px}.aces-field{width:280px;flex:unset;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-content:flex-end;align-content:flex-end}.board{transition:transform .3s}.board.rotate{-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.board.rotate .player-row stack{display:block}.board.rotate button,.board.rotate stack{-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.board.rotate .streets-left{margin-right:0}.board.rotate .streets-right{margin-left:-16px}.board.rotate .streets-left,.board.rotate .streets-right{margin-top:5px}.board.rotate .street{margin-top:4px}",""])},368:function(t,e,a){e=t.exports=a(41)(),e.push([t.i,".card{border:1px solid #d8d8d8;border-radius:5px;display:inline-block;width:110px;height:156px;color:#000;font-size:.9em;font-weight:600;background:#fefefe;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:transform .2s;transition:-webkit-transform .2s;transition:-ms-transform .2s}.card .card-content{margin:3px;border-radius:5px;height:calc(100% - 2 * 3px)}.card .invisible{background-color:#6363c3}.card .red.invisible{background-color:#e73d3d}.card .red-card{color:red}.card .bottom-right,.card .top-left{position:absolute}.card .top-left{top:7.5px;left:7.5px}.card .bottom-right{-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg);bottom:7.5px;right:7.5px}.card .card-suit{-ms-transform:scale(.85);-webkit-transform:scale(.85);transform:scale(.85);margin:2px 0 2px -2px}.card .card-value{padding-left:0}.card .icon-hearts15{margin-top:4px}.card .symbols-container{position:relative}.card .card-suit-big{-ms-transform:scale(.8);-webkit-transform:scale(.8);transform:scale(.8);position:absolute}.card .row-1{top:8px}.card .row-2{top:23px}.card .row-3{top:35px}.card .row-4{top:58px}.card .row-5{top:80px}.card .row-6{top:98px}.card .row-7{top:117px}.card .col-1{left:19px}.card .col-2{left:39px}.card .col-3{right:19px}.card .row-5,.card .row-6,.card .row-7{-ms-transform:rotate(180deg) scale(.8);-webkit-transform:rotate(180deg) scale(.8);transform:rotate(180deg) scale(.8)}.card .card-suit-ace{-ms-transform:scale(1.3);-webkit-transform:scale(1.3);transform:scale(1.3)}.card.picked{box-shadow:0 0 8px rgba(0,0,0,.4)}",""])},369:function(t,e,a){e=t.exports=a(41)(),e.push([t.i,".row{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row}.player-row{max-width:1100px;margin:0 auto}.field{flex:2}.alert-field,.side-field,.streets-field{flex:1}.streets-field{display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.streets-field .street{flex:1}.streets-left{margin-right:-16px}.streets-left .stack{text-align:right}.streets-left .stack *{text-align:left}.mid-row .stack{padding:5px 10px}.aces-field{width:280px;flex:unset;display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-align-items:center;align-items:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-content:flex-end;align-content:flex-end}.board{transition:transform .3s}.board.rotate{-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.board.rotate .player-row stack{display:block}.board.rotate button,.board.rotate stack{-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.board.rotate .streets-left{margin-right:0}.board.rotate .streets-right{margin-left:-16px}.board.rotate .streets-left,.board.rotate .streets-right{margin-top:5px}.board.rotate .street{margin-top:4px}",""])},370:function(t,e,a){e=t.exports=a(41)(),e.push([t.i,"#menu{position:fixed;top:0;right:-460px;width:460px;min-width:460px;z-index:100;transition:right .2s;height:100vh;background:#fff}#menu.out{right:0}#menu .button{display:block;width:100px;height:50px;margin-bottom:10px}#menu .buttons-container{margin-left:-60px;position:absolute;top:100px}#menu .buttons-container .settings{background-color:#f66}#menu .buttons-container .rules{background-color:#66f}#menu .section{padding:25px 25px 0 50px;overflow-y:auto;height:calc(100vh - 2 * 25px)}#menu .section ul{padding:0 16px}#menu .section.rules{text-align:justify}",""])},371:function(t,e,a){e=t.exports=a(41)(),e.push([t.i,"#menu{position:fixed;top:0;right:-460px;width:460px;min-width:460px;z-index:100;transition:right .2s;height:100vh;background:#fff}#menu.out{right:0}#menu .button{display:block;width:100px;height:50px;margin-bottom:10px}#menu .buttons-container{margin-left:-60px;position:absolute;top:100px}#menu .buttons-container .settings{background-color:#f66}#menu .buttons-container .rules{background-color:#66f}#menu .section{padding:25px 25px 0 50px;overflow-y:auto;height:calc(100vh - 2 * 25px)}#menu .section ul{padding:0 16px}#menu .section.rules{text-align:justify}",""])},372:function(t,e,a){e=t.exports=a(41)(),e.push([t.i,".stack{cursor:default!important;padding:10px}.stack.centered{text-align:center}.stack .horizontal-wrap{-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg);transform:rotate(90deg);height:110px;width:156px}.stack .stack-wrap{position:relative;width:110px;height:156px;display:inline-flex}.stack card{position:absolute;top:0;left:0}.no-card{border:1px dashed #a2a2a2;display:inline-block;width:110px;height:156px;background:hsla(0,0%,100%,.3);border-radius:5px}.no-card.no-spread{margin-left:10px}.no-card .placeholder{width:110px;height:156px;position:absolute;top:0;left:0}.no-card .placeholder-rotate{-ms-transform:rotate(-90deg);-webkit-transform:rotate(-90deg);transform:rotate(-90deg);width:156px;height:110px;position:absolute;top:24px;left:-12px}.no-card .placeholder-main{color:#a2a2a2;font-weight:600;font-size:.7em;position:relative;top:90px}",""])},373:function(t,e,a){e=t.exports=a(41)(),e.push([t.i,".icon-hearts15{background-position:0 0;height:14px;background-image:url("+a(33)+")}.icon-clubs15,.icon-hearts15{background-repeat:no-repeat;overflow:hidden;display:inline-block;width:15px}.icon-clubs15{background-position:0 -14px;height:15px;background-image:url("+a(33)+")}.icon-spades15{background-position:0 -29px;height:17px;background-image:url("+a(33)+")}.icon-diamonds15,.icon-spades15{background-repeat:no-repeat;overflow:hidden;display:inline-block;width:15px}.icon-diamonds15{background-position:0 -46px;height:18px;background-image:url("+a(33)+")}.icon-hearts25{background-position:0 -64px;height:24px;background-image:url("+a(33)+")}.icon-clubs25,.icon-hearts25{background-repeat:no-repeat;overflow:hidden;display:inline-block;width:25px}.icon-clubs25{background-position:0 -88px;height:26px;background-image:url("+a(33)+")}.icon-spades25{background-position:0 -114px;height:29px;background-image:url("+a(33)+")}.icon-diamonds25,.icon-spades25{background-repeat:no-repeat;overflow:hidden;display:inline-block;width:25px}.icon-diamonds25{background-position:0 -143px;height:30px;background-image:url("+a(33)+")}",""])},374:function(t,e){},391:function(t,e){t.exports="<div>\n  <router-outlet></router-outlet>\n</div>"},392:function(t,e){t.exports='<div class="card" [ngStyle]="{\n  \'-webkit-transform\': card.visible ? \'rotate(\'+card.rotation+\'deg)\' : \'unset\',\n  \'transform\': card.visible ? \'rotate(\'+card.rotation+\'deg)\' : \'unset\'\n}" [ngClass]="{\n  \'picked\': card.picked\n}">\n  <div class="card-content" [ngClass]="{\n    \'red\':card.player.id === 1,\n    \'invisible\':!card.visible,\n    \'red-card\': card.type.color === 1\n  }">\n    <div class="top-left" *ngIf="card.visible">\n      <div class="card-value">{{cardToolsService.getCharFromNumeric(card.value)}}</div>\n      <div class="card-suit" [ngClass]="\'icon-\'+card.type.name+\'15\'"></div>\n    </div>\n\n    <div class="bottom-right" *ngIf="card.visible">\n      <div class="card-value">{{cardToolsService.getCharFromNumeric(card.value)}}</div>\n      <div class="card-suit" [ngClass]="\'icon-\'+card.type.name+\'15\'"></div>\n    </div>\n\n    <div class="symbols-container" *ngIf="card.visible">\n      <div class="card-suit-big row-1 col-1" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[4,5,6,7,8,9,10].includes(card.value)"></div>\n      <div class="card-suit-big row-1 col-2" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[2, 3].includes(card.value)"></div>\n      <div class="card-suit-big row-1 col-3" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[4,5,6,7,8,9,10].includes(card.value)"></div>\n\n      <div class="card-suit-big row-2 col-2" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[10].includes(card.value)"></div>\n\n      <div class="card-suit-big row-3 col-1" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[9,10].includes(card.value)"></div>\n      <div class="card-suit-big row-3 col-2" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[7,8].includes(card.value)"></div>\n      <div class="card-suit-big row-3 col-3" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[9,10].includes(card.value)"></div>\n\n      <div class="card-suit-big row-4 col-1" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[6,7,8].includes(card.value)"></div>\n      <div class="card-suit-big row-4 col-2" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[3,9,5].includes(card.value)"></div>\n      <div class="card-suit-big row-4 col-3" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[6,7,8].includes(card.value)"></div>\n\n      <div class="card-suit-big row-5 col-1" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[9,10].includes(card.value)"></div>\n      <div class="card-suit-big row-5 col-3" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[9,10].includes(card.value)"></div>\n      \n      <div class="card-suit-big row-6 col-2" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[10,8].includes(card.value)"></div>\n\n      <div class="card-suit-big row-7 col-1" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[4,5,6,7,8,9,10].includes(card.value)"></div>\n      <div class="card-suit-big row-7 col-2" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[2, 3].includes(card.value)"></div>\n      <div class="card-suit-big row-7 col-3" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[4,5,6,7,8,9,10].includes(card.value)"></div>\n\n      <div class="card-suit-big card-suit-ace row-4 col-2" [ngClass]="\'icon-\'+card.type.name+\'25\'" *ngIf="[1].includes(card.value)"></div>\n    </div>\n  </div>\n</div>'},393:function(t,e){t.exports='<div>\n  <div id="hacks" style="position:fixed; top:0; left: 0;">\n    <div><span>{{\'player\' | translate}}</span> {{appState.get(\'currentPlayer\').id}}</div>\n  </div>\n  <div class="board" [ngClass]="{\'rotate\': crapetteService.rotate}">\n    <div class="row player-row player-row-top">\n      <div class="field side-field"></div>\n      <div class="field crappette-field">\n        <stack (pick)="pick($event)" (push)="push($event)" [stack]="stacks.player0Crapette"></stack>\n      </div>\n      <div class="field main-field">\n        <stack (pick)="pick($event)" (push)="push($event)" [stack]="stacks.player0Main"></stack>\n      </div>\n      <div class="field discard-field">\n        <stack (pick)="pick($event)" (push)="push($event)" [stack]="stacks.player0Discard"></stack>\n      </div>\n      <div class="field alert-field">\n        <button (click)="crapette(0)">Crapette !</button>\n      </div>\n    </div>\n\n    <div class="row mid-row">\n      <div class="field streets-field streets-left">\n        <div class="street" *ngFor="let street of stacks.streets | slice:0:crapetteService.NUMBEROFSTREETS;  let i=index">\n          <stack (pick)="pick($event)" (push)="push($event)" [stack]="street"></stack>\n        </div>\n      </div>\n\n      <div class="field aces-field">\n        <stack (pick)="pick($event)" (push)="push($event)" *ngFor="let pile of stacks.aces" [stack]="pile"></stack>\n      </div>\n\n      <div class="field streets-field streets-right">\n        <div class="street" *ngFor="let street of stacks.streets | slice:crapetteService.NUMBEROFSTREETS:crapetteService.NUMBEROFSTREETS*2;  let i=index">\n          <stack (pick)="pick($event)" (push)="push($event)" [stack]="street"></stack>\n        </div>\n      </div>\n\n    </div>\n\n    <div class="row player-row player-row-top">\n      <div class="field alert-field">\n        <button (click)="crapette(1)">Crapette !</button>\n      </div>\n      <div class="field discard-field">\n        <stack (pick)="pick($event)" (push)="push($event)" [stack]="stacks.player1Discard"></stack>\n      </div>\n      <div class="field main-field">\n        <stack (pick)="pick($event)" (push)="push($event)" [stack]="stacks.player1Main"></stack>\n      </div>\n      <div class="field crappette-field">\n        <stack (pick)="pick($event)" (push)="push($event)" [stack]="stacks.player1Crapette"></stack>\n      </div>\n      <div class="field side-field"></div>\n    </div>\n  </div>\n  <menu></menu>\n</div>'},394:function(t,e){t.exports='<div id="hub">\n  HUB<br>\n  <button (click)="startLocal()">Start a local Game</button><br>\n  <button *ngIf="enableOnline && !showMulti" (click)="startOnline()">Start an online Game</button>\n  <div *ngIf="enableOnline && showMulti">\n    <p><span>{{baseUrl + \'/p1/\' + hash}}</span> | <a target="_blank" href="{{baseUrl + \'/p1/\' + hash}}">Go</a></p>\n    <p><span>{{baseUrl + \'/p2/\' + hash}}</span> | <a target="_blank" href="{{baseUrl + \'/p2/\' + hash}}">Go</a></p>\n  </div>\n</div>'},395:function(t,e){t.exports='<div id="menu" [ngClass]="{\'out\': out}">\n  <div class="buttons-container">\n    <div class="button rules" (click)="clickButton(\'rules\')">R</div>\n    <div class="button settings" (click)="clickButton(\'settings\')">S</div>\n  </div>\n\n  <div class="section rules" *ngIf="state === \'rules\'">\n    <markdown>{{\'rules.intro\' | translate}}</markdown>\n    <markdown>{{\'rules.layout\' | translate}}</markdown>\n    <markdown>{{\'rules.stacks\' | translate}}</markdown>\n    <markdown>{{\'rules.turn\' | translate}}</markdown>\n    <markdown>{{\'rules.steal\' | translate}}</markdown>\n    <markdown>{{\'rules.special\' | translate}}</markdown>\n    <markdown>{{\'rules.addendum\' | translate}}</markdown>\n  </div>\n\n  <div class="section settings" *ngIf="state === \'settings\'">\n    <markdown>\n        # Settings\n        These are the settings\n    </markdown>\n    <p><label><input type="checkbox" [(ngModel)]="settings.rotateBoard"> Rotate the board depending on player</label></p>\n    <p><label><input type="checkbox" [(ngModel)]="settings.stackLength"> Show how many cards are in a stack on hover</label></p>\n    <p><span (click)="changeLocale(\'en\')">EN</span> | <span (click)="changeLocale(\'fr\')">FR</span></p>\n  </div>\n</div>'},396:function(t,e){t.exports='<div class="stack" [ngClass]="{\'centered\': !stack.vertical || stack.type === stackTypes.CRAPETTE}"\n  dnd-droppable (onDropSuccess)="handleDrop($event)">\n  <div class="stack-wrap" [ngClass]="{\'horizontal-wrap\': !stack.vertical}">\n    <div *ngIf="stack.deck.cards.length === 0">\n      <div class="no-card" (click)="clickCard()" [ngClass]="{\'no-spread\': !stack.spread}">\n        <div class="placeholder" [ngClass]="{\'placeholder-rotate\': stack.type === stackTypes.MAIN}">\n          <span class="placeholder-main" *ngIf="stack.type === stackTypes.MAIN">Click to renew discard</span>\n        </div>\n      </div>\n    </div>\n    <div *ngIf="(stack.deck.cards.length > 0)">\n      <card title="{{settings.stackLength ? stack.deck.cards.length : \'\'}}" *ngFor="let card of stack.deck.cards | slice:stack.spread?0:-4; let i = index" [ngStyle]="{\'left\': computeShift(card, stack, i)}" [card]="card" (click)="clickCard(card)"\n      dnd-draggable [dragData]="card" (onDragStart)="handleDrag(card)"\n      [dragEnabled]="card === stack.top && (!crapette.pickedStack || crapette.pickedStack.cancelable || crapette.pickedStack === stack)"></card>\n    </div>\n  </div>\n</div>'},434:function(t,e,a){var r=a(367);t.exports="string"==typeof r?r:r.toString()},435:function(t,e,a){var r=a(368);t.exports="string"==typeof r?r:r.toString()},436:function(t,e,a){var r=a(369);t.exports="string"==typeof r?r:r.toString()},437:function(t,e,a){var r=a(370);t.exports="string"==typeof r?r:r.toString()},438:function(t,e,a){var r=a(371);t.exports="string"==typeof r?r:r.toString()},439:function(t,e,a){var r=a(372);t.exports="string"==typeof r?r:r.toString()},440:function(t,e,a){var r=a(373);t.exports="string"==typeof r?r:r.toString()},48:function(t,e,a){"use strict";var r=a(44),n=a(1),i=a(215);a.d(e,"a",(function(){return d})),a.d(e,"b",(function(){return p})),a.d(e,"c",(function(){return l}));var s=[],c={},o=function(t){return t};a.i(n.a)(),o=function(t){return a.i(r.a)(),t},s=s.slice();var d=o,p=s.slice(),l=Object.assign(i.a,c)},49:function(t,e,a){"use strict";var r=a(18),n=a(1);a.d(e,"a",(function(){return i}));var i=(function(){function t(){this._state={}}return Object.defineProperty(t.prototype,"state",{get:function(){return this._state=this._clone(this._state)},set:function(t){throw new Error("do not mutate the `.state` directly")},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=this._state;return e.hasOwnProperty(t)?e[t]:e},t.prototype.set=function(t,e){return this._state[t]=e},t.prototype._clone=function(t){return JSON.parse(JSON.stringify(t))},t})();i=r.a([a.i(n.d)()],i)},62:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return i}));var r={LEFT:-1,NONE:0,RIGHT:1},n={MAIN:0,CRAPETTE:1,DISCARD:2,ACE:3,STREET:4},i=(function(){function t(t,e,a,r,n,i,s,c){this.deck=t,this.vertical=e,this.spread=c,this.pushRule=a,this.popRule=r,this.owner=n,this.type=i,this.cancelable=s}return Object.defineProperty(t.prototype,"top",{get:function(){return this.deck.last},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.deck.cards.length},t})()},63:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(48);a.d(e,"a",(function(){return s}));var s=(function(){function t(){}return Object.defineProperty(t.prototype,"rotateBoard",{get:function(){return i.c.rotateBoard},set:function(t){i.c.rotateBoard=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stackLength",{get:function(){return i.c.stackLength},set:function(t){i.c.stackLength=t},enumerable:!0,configurable:!0}),t})();s=r.a([a.i(n.d)()],s)},82:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));var r={CLUBS:{name:"clubs",color:0},HEARTS:{name:"hearts",color:1},DIAMONDS:{name:"diamonds",color:1},SPADES:{name:"spades",color:0}},n=(function(){function t(t,e,a){t&&(this.player=t),this.type=e,this.value=a,this.visible=!1,this.picked=!1,t.deck.addCard(this)}return t})()},83:function(t,e,a){"use strict";var r=a(18),n=a(1),i=a(82);a.d(e,"a",(function(){return s}));var s=(function(){function t(){this.CARDMINHIGH=1,this.CARDMAXHIGH=13}return t.prototype.getCharFromNumeric=function(t){var e=""+t;switch(t){case 1:e="A";break;case 11:e="J";break;case 12:e="Q";break;case 13:e="K"}return e},t.prototype.getNumericFromChar=function(t){var e=parseInt(t,10);switch(t){case"A":e=1;break;case"J":e=11;break;case"Q":e=12;break;case"K":e=13}return e},t.prototype.shuffleDeck=function(t){t.cards=this.shuffle(t.cards)},t.prototype.createSet=function(t,e,a){var r=[];e=e||this.CARDMINHIGH,a=a||this.CARDMAXHIGH;for(var n in i.a)if(i.a.hasOwnProperty(n))for(var s=i.a[n],c=e;c<=a;c++)r.push(new i.b(t,s,c));return r},t.prototype.shuffle=function(t){for(var e,a,r=t.length;r;)a=Math.floor(Math.random()*r--),e=t[r],t[r]=t[a],t[a]=e;return t},t})();s=r.a([a.i(n.d)()],s)}},[216]);